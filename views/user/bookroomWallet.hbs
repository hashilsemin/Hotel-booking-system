 <nav style=" background-color: rgba(255, 255, 255, 0); font-family: cursive; position: fixed; width: 100% ;z-index: 1; "
      class="navbar navbar-expand-lg navbar-light ">
      <a style="font-weight: bolder; color: white; font-size: 40px;" class="navbar-brand" href="/">Travelix</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
        aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a style="color: white; margin-left: 30px  ;" class="nav-link" href="#city"> <span
                class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a style="color: white;" class="nav-link" href="#"></a>
          </li>
          <div style="margin-left: 740px; ">
            <li class="nav-item dropdown">

              {{#if gUser1}}


              <a style="color: white; font-size: x-large; " class="nav-link dropdown-toggle " href="#"
                id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                {{name}}
                <img class="rounded-circle" src="{{pic}}" width="45" height="45" alt="">
                <div
                  style=" background-color:#22def78e; width:240px ; height: 250px; padding: 10px; margin-left: -100px;"
                  class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">



                  <a class="dropdown-item" href="/googleLogout">Logout</a>
                  <hr>
                  <a class="dropdown-item" href="">Recent bookings</a>
                </div>
                {{else if user1}}
                <a style="color: white; font-size: x-large;" class="nav-link dropdown-toggle " href="#"
                  id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  {{userName.Name}}
                </a>
                <div
                  style=" background-color:#22def78e; width:240px ; height: 180px; padding: 10px; margin-left: -100px;"
                  class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">

                  <a class="dropdown-item" href="/updateProfile/{{user._id}}">Update profile</a>
                  <hr>
                  <a class="dropdown-item" href="/userLogout">Logout</a>
                  <hr>
                  <a class="dropdown-item" href="">Recent bookings</a>
                </div>
                {{else}}
                {{!-- <a style="color: white;" class="nav-link dropdown-toggle " href="#" id="navbarDropdownMenuLink"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  LOGIN/SIGNUP
                </a> --}}
                <div
                  style=" background-color:#22def78e; width:240px ; height: 180px; padding: 10px; margin-left: -100px;"
                  class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">

                  <a class="dropdown-item" href="/userLogin">User</a>
                  <hr>
                  <a class="dropdown-item" href="/hotel/Login">Hotel</a>
                  <hr>
                  <a class="dropdown-item" href="/admin/Login">Admin</a>
                </div>
                {{/if}}


            </li>
          </div>
        </ul>
        <hr>
      </div>

    </nav>
<div class="card flex-row flex-wrap"
  style=" height: 700px; background-color: #41B3A3;;  box-shadow: 0px 0px  30px grey;">
  <div class="card-header border-0" style="background-color:#E27D60;">
    <img style="width: 600px ;height: 350px; margin-left: 50px; margin-top: 100px;" src="/room-images/{{rooms._id}}.jpg"
      alt="">
  </div>

  <div class="card-block px-2" style="margin-top: 60px; margin-left: 50px; color: white; font-weight: bolder;">

    <h1 style="margin-top: 40px;font-weight: bold ; color: white;" class="card-title">{{rooms.Type}}</h1>
    <p style="font-weight: bold; font-size: xx-large; color: white;" class="card-price"><span
        style="font-size: medium;">INR :</span> <span id="price">{{rooms.Price}} </span><span>&#8377;</span></p>
 
   <form action="/Walletbooking" method="POST">
  

      <input type="hidden" name="ID" value="{{user._id}}">
     
       {{#if gMail}}
Mobile &nbsp &nbsp :
<input type="text" style="margin-bottom: 15px;" name="Mobile" placeholder="mobile number"><br>
Name &nbsp &nbsp :
<input type="text" style="margin-bottom: 15px;" name="Name" placeholder="Name"><br>

{{else if user}}
 <input type="hidden" name="Mobile" value="{{user.Mobile}}">
  <input type="hidden" name="Name" value="{{user.Name}}">
      {{/if}}
      <input type="hidden" name="Email" value="{{user.Email}}{{gMail}}">
        <input type="hidden" name="hotelId" value="{{rooms.hotelId}}">
          <input type="hidden" name="hotelName" value="{{rooms.hotelName}}">
          <input type="hidden" name="Type" value="{{rooms.Type}}">
            <input type="hidden" name="Price" value="{{rooms.Price}}">
             <input type="hidden" name="canCancel" value="">
             

  <script>

       
  </script>
      Check in : <input id="datePicker1" type="date" name="checkIn"><br>
      Checkout: <input id="datePicker" type="date" name="checkOut" style="margin-top: 20px;"><br>
      <div style="padding: 5px ;margin-top: 10px;  ">
        <div style="float: left;">Guest(s) :</div>
        <div style="float:left ;margin-left: 10px;"><button style="border-radius: 50%;outline:none;border: none;background-color: thistle; width:30px;" type="button" id="subtract"> - </button></div>

        <div style="float:left;margin-left: 10px;"> <input name="Guest" style="width: 30px; outline:none;border: none; " type="text" id="w" readonly></div>
 
        {{!-- <script>      $('#counter').change(function () {
            $('#Room').val($(this).val());
          });</script> --}}
        <div style="margin-left: 170px;"><button class="button" type="button" style="outline:none;border: none;border-radius: 50%;background-color: thistle;width:30px;;" id="add"> + </button></div>
      </div>    <p style="margin-left: 90px; color: red;">For every 4th guest a room is added</p>
      <div style="float: left; margin-top: 10px;">Room(s) :</div>
      <div style="margin-left: 100px; margin-top: 10px;"><input class="button" name="Room" style="width: 30px; outline:none;border: none;" type="text" id="q" readonly></div>
      <input style="margin-top: 20px; border-radius: 10px; " id="btn" class="btn btn-success  btn-lg" type="submit"
        value="Let's Book It">
   
  
    </form>
    
   
   
<script>
    $("#checkout-form").submit((e)=>{
        e.preventDefault()
        $.ajax({
            url:'/booked',
            method:'post',
            data:$('#checkout-form').serialize(),
            success:((data)=>{
        console.log(data)
                    razorpayPayment(data)
                
            })
        }) 
    })
    function razorpayPayment(order){ 
      var options = {
     
    "key": "rzp_test_4oASb9KdHLZimd", // Enter the Key ID generated from the Dashboard
    "amount":order.amount, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
    "currency": "INR",
    "name": "Hashil",
    "description": "Test Transaction",
    "image": "https://example.com/your_logo",
    "order_id": order.id, //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
    "handler": function (response){
console.log(response)
       verifypayment(response,order)
       
    },
    "prefill": {
        "name": "Gaurav Kumar",
        "email": "gaurav.kumar@example.com",
        "contact": "9999999999"
    },
    "notes": {
        "address": "Razorpay Corporate Office"
    },
    "theme": {
        "color": "#3399cc"
    }
};  
var rzp1 = new Razorpay(options);
 rzp1.open();
    }
     function verifypayment(payment,order){
            $.ajax({
                url:'/verify-payment',
                data:{
                    payment,
                    order
                },
                method:'post',
                success:(response)=>{
                    if(response.status){
                        location.href='/roombooked'
                    }else{
                        alert('payment failed')
                    }
                }
            })
        }
</script>


    <script>
    
  
  

document.getElementById("w").value = "1";
var w=1
  document.getElementById("w").value = w;
  var q=1
  document.getElementById("q").value = q;
 



      // Set counter default to zero
     

      // Display total
     
      var x = document.getElementById("add");
      var y = document.getElementById("subtract");
      // When button is clicked
      $("#add").click(function () {
        if (w % 3 == 0) {
          q = q + 1;
          alert("A room is added")
          // Display total
         document.getElementById("q").value = q;
        }
       
        if (w == 1) {
          y.style.display = "block";
        }

        w=w+1;
        document.getElementById("w").value = w;
        //Add 10 to counter
       
      });


      //Subtract
      $("#subtract").click(function () {

        if (w % 3 == 1) {
          q = q - 1;

          // Display total
          document.getElementById("q").value = q;
        }
        var x = document.getElementById("add");
        if (w == 0) {
          w = w + 1;

        }
        if (w == 0) {
          w = w + 1;

        }
        else if (w == 3) {
          x.style.display = "block";
        }
         else if (w == 1) {
          q = q + 1;
          document.getElementById("q").value = q;
          w = w + 1;
          alert("minimum 1 guest required")

        }
       else {
          y.style.display = "block";
        }
        w=w-1
          document.getElementById("w").value = w;
      
      });


      // Reset
      $("#reset").click(function () {
        counter = 0;
        $("#counter").text(counter);
      });
      let today = new Date();
      let tomorrow = new Date();

      tomorrow.setDate(today.getDate() + 1);
      document.getElementById('datePicker1').valueAsDate = today;
      document.getElementById('datePicker').valueAsDate = tomorrow;
      function increment() {
        var num = document.getElementById('demoInput');
        alert(num)
        document.getElementById('demoInput').stepUp();
      }
      function decrement() {
        document.getElementById('demoInput').stepDown();
      }
    </script>
  </div>
</div>